
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Dashboard KPI + Mapa</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f9f9f9; }
        .kpis { display: flex; justify-content: space-around; padding: 1rem; background: #fff; font-weight: bold; }
        .tabla, table { width: 90%; margin: 1rem auto; border-collapse: collapse; background: #fff; }
        table, th, td { border: 1px solid #ddd; padding: 0.5rem; text-align: center; }
        .estatus span { padding: 0.2rem 0.5rem; border-radius: 0.5rem; color: white; font-weight: bold; }
        .entregado { background: green; }
        .parcial { background: orange; }
        .noentregado { background: red; }
        .reagendado { background: gray; }
        #map { height: 400px; width: 90%; margin: 1rem auto; border-radius: 10px; }
    </style>
</head>
<body>
    <div class="kpis">
        <div>Entregas Totales<br><span>150</span></div>
        <div>Entregas Completas<br><span>120</span></div>
        <div>Entregas a Tiempo<br><span>112</span></div>
        <div>Incidentes<br><span>5</span></div>
    </div>

    <div class="tabla">
        <table>
            <thead>
                <tr><th>Fecha</th><th>Unidad</th><th>Destino</th><th>Estatus</th></tr>
            </thead>
            <tbody>
                <tr><td>2025-06-18</td><td>CAM123</td><td>Querétaro</td><td class="estatus"><span class="entregado">Entregado completo</span></td></tr>
                <tr><td>2025-06-17</td><td>CAM123</td><td>Guanajuato</td><td class="estatus"><span class="parcial">Entregado parcial</span></td></tr>
                <tr><td>2025-06-16</td><td>CAM128</td><td>CDMX</td><td class="estatus"><span class="noentregado">No entregado</span></td></tr>
                <tr><td>2025-06-15</td><td>CAM127</td><td>San Luis Potosí</td><td class="estatus"><span class="reagendado">Reagendado</span></td></tr>
            </tbody>
        </table>
    </div>

    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        var map = L.map('map').setView([21.5, -100.5], 6);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 18
        }).addTo(map);

        const unidades = [
            { nombre: "CAM123", coords: [20.59, -100.39], destino: "Querétaro" },
            { nombre: "CAM123", coords: [21.02, -101.25], destino: "Guanajuato" },
            { nombre: "CAM128", coords: [19.43, -99.13], destino: "CDMX" },
            { nombre: "CAM127", coords: [22.15, -100.98], destino: "San Luis Potosí" }
        ];

        unidades.forEach(u => {
            const icon = L.icon({
                iconUrl: "https://cdn-icons-png.flaticon.com/512/743/743920.png",
                iconSize: [32, 32],
                iconAnchor: [16, 32],
                popupAnchor: [0, -32]
            });
            L.marker(u.coords, { icon }).addTo(map).bindPopup(`${u.nombre}<br>${u.destino}`);
        });
    </script>
</body>
</html>
